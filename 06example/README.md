## 51 单片机示例工程（Keil uVision / STC89C52RC）

本项目是一个基于 STC89C52RC 的 8051 示例，包含外部中断、定时器、中断驱动的按键扫描、数码管显示以及串口收发回显等基础功能。

### 目录结构
- `main.c`: 程序入口与系统初始化、主循环
- `interrupt.h`: 外部中断初始化与中断服务例程 INT0/INT1
- `timer.h`: 定时器0/1 初始化与中断服务例程
- `key.h`: 按键扫描（带消抖）
- `smg.h`: 8 位数码管段码表、刷新与显示数字
- `uart.h`: 串口1初始化与中断回显
- `public.h`: 常用类型定义与延时函数
- `STARTUP.A51`: Keil 标准启动文件
- `06example.uvproj`: uVision 工程文件
- `Objects/`, `Listings/`: 构建输出目录（已在 `.gitignore` 忽略）

### 功能概览
- 外部中断 INT0/INT1：示例中简单控制 `P20` 输出
- 定时器0/1：定时翻转 `P20/P21` 并重装计数初值
- 按键扫描：`P31` 下降沿触发，带软件消抖，返回一次性按键值
- 数码管显示：以 `smg_num` 设置显示内容，`smg_show` 进行位选轮询刷新
- 串口回显：串口1 9600bps（基于 T1 方式），接收字符立即回发并翻转 `P23`

### 构建与运行
1. 使用 Keil uVision 打开 `06example.uvproj`
2. 选择 `Target 1`，点击编译/生成（会在 `Objects/` 下生成 HEX）
3. 使用 STC 烧录工具将 HEX 下载到 STC89C52RC（或兼容型号）
4. 硬件连线：确保 `P0` 与数码管段、`P22~P24` 为位选，`P31` 为按键输入，`P20/P21` 为指示输出，串口按板卡连线

### 源码要点
- 时钟配置在工程目标里指定为 11.0592MHz（UART 波特率设置基于该频率）
- `smg_num` 将无符号长整型转换为 8 位十进制显示；位选时序由 `smg_show` 轮询
- `Delay10us/Delayms` 为基于空循环的简易延时，不适合高精度场景

### 维护建议（非破坏性整理）
- 将 `.h` 中包含实现的文件（如 `public.h`, `smg.h`, `timer.h`, `uart.h`, `interrupt.h`, `key.h`）后续拆分为 `*.c + *.h`
- 新建 `src/`（C 源）与 `inc/`（头文件）目录，并在 uVision 中更新分组
- 保持 `Objects/` 与 `Listings/` 为输出目录，继续在版本库中忽略
- 添加简单的引脚定义注释和硬件连线说明，便于复用

### 许可
仅作为学习示例使用。



